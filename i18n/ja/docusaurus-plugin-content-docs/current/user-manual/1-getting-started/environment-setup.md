---
sidebar_position: 2
title: 環境セットアップ
---

# 環境セットアップ

QA Advisor が正確にデータを追跡するために、WordPress 環境を適切に設定することが重要です。このガイドでは、最適な追跡パフォーマンスを確保するための設定手順をご説明します。

## サーバー要件の確認

### PHP 設定

以下の PHP 設定を確認してください：

- **PHP バージョン**: 7.0 以上（推奨：7.4 以上）
- **メモリ制限**: 最低 128MB（推奨：256MB 以上）
- **実行時間制限**: 最低 30秒
- **ファイルアップロード**: 有効

### データベース設定

- **MySQL**: バージョン 5.7 以上
- **文字セット**: utf8mb4（推奨）
- **照合順序**: utf8mb4_unicode_ci

## WordPress 設定の最適化

### プラグインの競合チェック

以下のプラグインタイプとの競合を確認してください：

1. **キャッシュプラグイン**
   - WP Rocket
   - W3 Total Cache
   - WP Super Cache
   - LiteSpeed Cache

2. **セキュリティプラグイン**
   - Wordfence
   - Sucuri Security
   - iThemes Security

3. **最適化プラグイン**
   - Autoptimize
   - WP Optimize
   - Smush

### キャッシュ設定の調整

QA Advisor の追跡スクリプトが正しく動作するように：

1. **JavaScript の最適化を除外**
   - QA Advisor のスクリプト（`qahm` または `qahmz`）をキャッシュプラグインの JavaScript 最適化から除外してください

2. **ページキャッシュの設定**
   - ログインユーザーのページキャッシュを無効にしてください
   - 動的コンテンツが含まれるページのキャッシュを適切に設定してください

## 追跡精度の向上

### jQuery の読み込み順序

QA Advisor は jQuery に依存しています。以下を確認してください：

1. **jQuery の遅延読み込み**
   - jQuery を遅延読み込み（defer）している場合は、QA Advisor スクリプトも同様に遅延させてください
   - [jQuery 遅延読み込み時の対応](/docs/user-manual/getting-started/when-defer-jquery)

2. **スクリプトの読み込み順序**
   - jQuery が QA Advisor スクリプトより先に読み込まれることを確認してください

### データ収集の最適化

1. **日次集計処理**
   - サーバーリソースが限られている場合、日次集計処理の時間を調整してください
   - 大量のトラフィックがある場合は、処理時間を分散させることを検討してください

2. **データ保存期間**
   - 必要に応じてデータ保存期間を調整してください
   - 古いデータの自動削除を設定してください

## セキュリティとプライバシー

### GDPR コンプライアンス

1. **プライバシーポリシーの更新**
   - QA Advisor によるデータ収集について記載してください
   - ユーザーの同意取得プロセスを実装してください

2. **データ匿名化**
   - 個人を特定できる情報の収集を避けてください
   - IP アドレスの匿名化を有効にしてください

### アクセス制御

1. **管理者権限の制限**
   - QA Advisor の管理画面へのアクセスを適切なユーザーに制限してください

2. **データエクスポートの制御**
   - データエクスポート機能の使用を制限してください

## パフォーマンス監視

### サーバーリソースの監視

定期的に以下を確認してください：

1. **CPU 使用率**
2. **メモリ使用量**
3. **ディスク容量**
4. **データベースパフォーマンス**

### 追跡データの確認

1. **リアルタイムデータ**
   - **QA Advisor** → **リアルタイム** で即座にデータが表示されることを確認

2. **ダッシュボードデータ**
   - 日次更新されるダッシュボードデータが正常に表示されることを確認

## トラブルシューティング

### よくある問題

1. **追跡スクリプトが読み込まれない**
   - ブラウザの開発者ツールでコンソールエラーを確認
   - キャッシュプラグインの設定を確認

2. **データが表示されない**
   - ログインユーザーの除外設定を確認
   - JavaScript エラーの有無を確認

3. **パフォーマンスの低下**
   - サーバーリソースの使用状況を確認
   - データベースの最適化を実行

### サポートリソース

問題が解決しない場合：

- [よくある質問](/docs/faq) を確認してください
- support@quarka.org までお問い合わせください
- [GitHub Issues](https://github.com/qa-advisor/issues) でバグ報告を行ってください

---

環境セットアップが完了したら、[基本的な使い方](/docs/user-manual/screens-and-operations) を学びましょう。
